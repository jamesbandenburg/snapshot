(this.webpackJsonpsnapshot=this.webpackJsonpsnapshot||[]).push([[0],{28:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),i=a(15),r=a.n(i),c=a(8),o=a(9),l=a(11),h=a(10),d=a(26),p=a(1),u=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(c.a)(this,a);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={text:"",isSearched:!1,aboutClicked:!1,inputDisabled:!1,showAboutModal:!1},e.onChange=function(t){e.setState({text:t.target.value}),""===t.target.value&&e.setState({isSearched:!1})},e.submitSearch=function(t){t.preventDefault(),e.state.text!==t.target.value&&e.props.searched(!1),""===e.state.text?e.props.searched(!1):(e.props.city(e.state.text),e.setState({isSearched:!0,inputDisabled:!0}),e.props.searched(!0))},e.newSearch=function(){e.setState({isSearched:!1,text:"",inputDisabled:!1})},e.showAbout=function(t){t.preventDefault(),e.setState({showAboutModal:!0})},e.hideAbout=function(){e.setState({showAboutModal:!1})},e}return Object(o.a)(a,[{key:"render",value:function(){return Object(p.jsxs)(s.Fragment,{children:[Object(p.jsx)("div",{className:"container align-middle",children:Object(p.jsxs)("form",{id:"searchbar",style:{width:"400px",margin:"0 auto"},children:[Object(p.jsx)("input",{type:"text",id:"search-field",className:"form-control",name:"text",value:this.state.text,onChange:this.onChange,disabled:this.state.inputDisabled,placeholder:"Enter a city..."}),this.state.isSearched?Object(p.jsx)("input",{type:"submit",value:"New Search",style:{margin:"20px"},className:"btn btn-primary",onClick:this.newSearch}):Object(p.jsx)("input",{type:"submit",className:"btn btn-primary",style:{margin:"20px"},onClick:this.submitSearch,value:"Go"}),Object(p.jsx)("button",{className:"btn btn-primary",style:{margin:"20px"},onClick:this.showAbout,children:"About"})]})}),Object(p.jsxs)(d.a,{show:this.state.showAboutModal,onHide:this.hideAbout,children:[Object(p.jsx)(d.a.Header,{style:{backgroundColor:"#8bacb7",color:"seashell",fontWeight:"bold",fontSize:"2rem"},children:"About Snapshot"}),Object(p.jsxs)(d.a.Body,{style:{backgroundColor:"#8bacb7",color:"seashell"},children:[Object(p.jsx)("p",{children:"Weather and travel information using the OpenWeatherMap, OpenTripMap and Google Search APIs."}),Object(p.jsx)("p",{children:"This app is very much at the mercy of the data returned by the APIs, and is therefore quite easy to break depending on what you search for."}),Object(p.jsx)("p",{children:"Please do not use it to plan your trips with..."}),Object(p.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(p.jsxs)("p",{children:["v1.1.0 || ",Object(p.jsx)("a",{target:"_blank",href:"https://github.com/jamesbandenburg/snapshot",style:{color:"seashell",textDecoration:"underline"},children:"Source Code"})]}),Object(p.jsx)("button",{className:"btn btn-primary",onClick:this.hideAbout,children:"Close"})]})]})]})]})}}]),a}(n.a.Component),f=a(13),m=a.n(f),j=a(16),b=a(19),x=function(e){var t=e.weatherData,a=function(e){var t=1e3*e.dt;return new Date(t).toLocaleDateString()};return Object(p.jsx)("div",{className:"container-flex",id:"forecast-display",children:Object(p.jsxs)("ul",{className:"list-group list-group-horizontal list-inline justify-content-around",children:[Object(p.jsxs)("li",{className:"list-group-item",style:{width:"110px",height:"160px",margin:"10px",backgroundColor:"seashell",color:"darkslategrey"},children:[Object(p.jsx)("h6",{children:"Today"}),Object(p.jsx)("i",{className:"Clouds"===t[0].weather[0].main?"fas fa-cloud":"Clear"===t[0].weather[0].main?"fas fa-sun":"Rain"===t[0].weather[0].main?"fas fa-cloud-rain":"Snow"===t[0].weather[0].main?"fas fa-snowflake":"Mist"===t[0].weather[0].main?"fas fa-smog":"Thunderstorm"===t[0].weather[0].main?"fas fa-bolt":"fas fa-cloud-sun-rain"}),Object(p.jsxs)("p",{children:[Object(p.jsx)("i",{className:"fas fa-temperature-high"})," ",Math.floor(t[0].temp.max-273)]}),Object(p.jsxs)("p",{children:[Object(p.jsx)("i",{className:"fas fa-temperature-low"})," ",Math.floor(t[0].temp.min-273)]})]}),Object(p.jsxs)("li",{className:"list-group-item",style:{width:"110px",height:"160px",margin:"10px",backgroundColor:"seashell",color:"darkslategrey"},children:[Object(p.jsx)("h6",{children:a(t[1])}),Object(p.jsx)("i",{className:"Clouds"===t[1].weather[0].main?"fas fa-cloud":"Clear"===t[1].weather[0].main?"fas fa-sun":"Rain"===t[1].weather[0].main?"fas fa-cloud-rain":"Snow"===t[1].weather[0].main?"fas fa-snowflake":"Mist"===t[1].weather[0].main?"fas fa-smog":"Thunderstorm"===t[1].weather[0].main?"fas fa-bolt":"fas fa-cloud-sun-rain"}),Object(p.jsxs)("p",{children:[Object(p.jsx)("i",{className:"fas fa-temperature-high"}),Math.floor(t[1].temp.max-273)]}),Object(p.jsxs)("p",{children:[Object(p.jsx)("i",{className:"fas fa-temperature-low"}),Math.floor(t[1].temp.min-273)]})]}),Object(p.jsxs)("li",{className:"list-group-item",style:{width:"110px",height:"160px",margin:"10px",backgroundColor:"seashell",color:"darkslategrey"},children:[Object(p.jsx)("h6",{children:a(t[2])}),Object(p.jsx)("i",{className:"Clouds"===t[2].weather[0].main?"fas fa-cloud":"Clear"===t[2].weather[0].main?"fas fa-sun":"Rain"===t[2].weather[0].main?"fas fa-cloud-rain":"Snow"===t[2].weather[0].main?"fas fa-snowflake":"Mist"===t[2].weather[0].main?"fas fa-smog":"Thunderstorm"===t[2].weather[0].main?"fas fa-bolt":"fas fa-cloud-sun-rain"}),Object(p.jsxs)("p",{children:[Object(p.jsx)("i",{className:"fas fa-temperature-high"}),Math.floor(t[2].temp.max-273)]}),Object(p.jsxs)("p",{children:[Object(p.jsx)("i",{className:"fas fa-temperature-low"}),Math.floor(t[2].temp.min-273)]})]}),Object(p.jsxs)("li",{className:"list-group-item",style:{width:"110px",height:"160px",margin:"10px",backgroundColor:"seashell",color:"darkslategrey"},children:[Object(p.jsx)("h6",{children:a(t[3])}),Object(p.jsx)("i",{className:"Clouds"===t[3].weather[0].main?"fas fa-cloud":"Clear"===t[3].weather[0].main?"fas fa-sun":"Rain"===t[3].weather[0].main?"fas fa-cloud-rain":"Snow"===t[3].weather[0].main?"fas fa-snowflake":"Mist"===t[3].weather[0].main?"fas fa-smog":"Thunderstorm"===t[3].weather[0].main?"fas fa-bolt":"fas fa-cloud-sun-rain"}),Object(p.jsxs)("p",{children:[Object(p.jsx)("i",{className:"fas fa-temperature-high"}),Math.floor(t[3].temp.max-273)]}),Object(p.jsxs)("p",{children:[Object(p.jsx)("i",{className:"fas fa-temperature-low"}),Math.floor(t[3].temp.min-273)]})]}),Object(p.jsxs)("li",{className:"list-group-item",style:{width:"110px",height:"160px",margin:"10px",backgroundColor:"seashell",color:"darkslategrey"},children:[Object(p.jsx)("h6",{children:a(t[4])}),Object(p.jsx)("i",{className:"Clouds"===t[4].weather[0].main?"fas fa-cloud":"Clear"===t[4].weather[0].main?"fas fa-sun":"Rain"===t[4].weather[0].main?"fas fa-cloud-rain":"Snow"===t[4].weather[0].main?"fas fa-snowflake":"Mist"===t[4].weather[0].main?"fas fa-smog":"Thunderstorm"===t[4].weather[0].main?"fas fa-bolt":"fas fa-cloud-sun-rain"}),Object(p.jsxs)("p",{children:[Object(p.jsx)("i",{className:"fas fa-temperature-high"}),Math.floor(t[4].temp.max-273)]}),Object(p.jsxs)("p",{children:[Object(p.jsx)("i",{className:"fas fa-temperature-low"}),Math.floor(t[4].temp.min-273)]})]}),Object(p.jsxs)("li",{className:"list-group-item",style:{width:"110px",height:"160px",margin:"10px",backgroundColor:"seashell",color:"darkslategrey"},children:[Object(p.jsx)("h6",{children:a(t[5])}),Object(p.jsx)("i",{className:"Clouds"===t[5].weather[0].main?"fas fa-cloud":"Clear"===t[5].weather[0].main?"fas fa-sun":"Rain"===t[5].weather[0].main?"fas fa-cloud-rain":"Snow"===t[5].weather[0].main?"fas fa-snowflake":"Mist"===t[5].weather[0].main?"fas fa-smog":"Thunderstorm"===t[5].weather[0].main?"fas fa-bolt":"fas fa-cloud-sun-rain"}),Object(p.jsxs)("p",{children:[Object(p.jsx)("i",{className:"fas fa-temperature-high"}),Math.floor(t[5].temp.max-273)]}),Object(p.jsxs)("p",{children:[Object(p.jsx)("i",{className:"fas fa-temperature-low"}),Math.floor(t[5].temp.min-273)]})]}),Object(p.jsxs)("li",{className:"list-group-item",style:{width:"110px",height:"160px",margin:"10px",backgroundColor:"seashell",color:"darkslategrey"},children:[Object(p.jsx)("h6",{children:a(t[6])}),Object(p.jsx)("i",{className:"Clouds"===t[6].weather[0].main?"fas fa-cloud":"Clear"===t[6].weather[0].main?"fas fa-sun":"Rain"===t[6].weather[0].main?"fas fa-cloud-rain":"Snow"===t[6].weather[0].main?"fas fa-snowflake":"Mist"===t[6].weather[0].main?"fas fa-smog":"Thunderstorm"===t[6].weather[0].main?"fas fa-bolt":"fas fa-cloud-sun-rain"}),Object(p.jsxs)("p",{children:[Object(p.jsx)("i",{className:"fas fa-temperature-high"}),Math.floor(t[6].temp.max-273)]}),Object(p.jsxs)("p",{children:[Object(p.jsx)("i",{className:"fas fa-temperature-low"}),Math.floor(t[6].temp.min-273)]})]}),Object(p.jsxs)("li",{className:"list-group-item",style:{width:"110px",height:"160px",margin:"10px",backgroundColor:"seashell",color:"darkslategrey"},children:[Object(p.jsx)("h6",{children:a(t[7])}),Object(p.jsx)("i",{className:"Clouds"===t[7].weather[0].main?"fas fa-cloud":"Clear"===t[7].weather[0].main?"fas fa-sun":"Rain"===t[7].weather[0].main?"fas fa-cloud-rain":"Snow"===t[7].weather[0].main?"fas fa-snowflake":"Mist"===t[7].weather[0].main?"fas fa-smog":"Thunderstorm"===t[7].weather[0].main?"fas fa-bolt":"fas fa-cloud-sun-rain"}),Object(p.jsxs)("p",{children:[Object(p.jsx)("i",{className:"fas fa-temperature-high"}),Math.floor(t[7].temp.max-273)]}),Object(p.jsxs)("p",{children:[Object(p.jsx)("i",{className:"fas fa-temperature-low"}),Math.floor(t[7].temp.min-273)]})]})]})})},g=(a(28),a(24)),O=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(c.a)(this,a);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={city:e.props.city,appid:"c7bc5e66aeda3684fd3c705978872426",endpoint:"https://api.openweathermap.org/data/2.5/forecast?",secondEndpoint:"https://api.openweathermap.org/data/2.5/onecall?",temp:"",lat:"",lon:"",loading:!0,noResults:"",appear:!1,weatherData:""},e.getWeather=Object(j.a)(m.a.mark((function t(){var a,s,n,i,r,c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="".concat(e.state.endpoint,"q=").concat(e.state.city,"&appid=").concat(e.state.appid),t.prev=1,t.next=4,fetch(a);case 4:if(!(s=t.sent).ok){t.next=28;break}return t.next=8,s.json();case 8:return n=t.sent,e.setState({temp:Math.floor(n.list[0].main.temp-273),lat:n.city.coord.lat,lon:n.city.coord.lon}),i="".concat(e.state.secondEndpoint,"lat=").concat(e.state.lat,"&lon=").concat(e.state.lon,"&exclude=current,minutely,hourly&appid=").concat(e.state.appid),t.prev=11,t.next=14,fetch(i);case 14:if(r=t.sent,!s.ok){t.next=22;break}return t.next=18,r.json();case 18:c=t.sent,e.setState({weatherData:c,loading:!1}).bind(Object(b.a)(e)),t.next=23;break;case 22:e.setState({loading:!1,noResults:"Oops, nothing found! Try a different search."});case 23:t.next=28;break;case 25:t.prev=25,t.t0=t.catch(11),e.setState({loading:!1});case 28:t.next=33;break;case 30:t.prev=30,t.t1=t.catch(1),e.setState({loading:!1,noResults:"Oops, nothing found! Try a different search."});case 33:case"end":return t.stop()}}),t,null,[[1,30],[11,25]])}))),e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.setState({city:this.props.city,appear:!0,loading:!1}),this.getWeather()}},{key:"componentDidUpdate",value:function(){this.state.city!==this.props.city&&this.setState({city:this.props.city,loading:!0})}},{key:"render",value:function(){return Object(p.jsx)(g.a,{in:this.state.appear,children:Object(p.jsxs)("div",{className:"jumbotron App",id:"weather-display",style:{textAlign:"center",margin:"0",paddingBottom:"24px",backgroundColor:"#8bacb7"},children:[Object(p.jsx)("div",{children:Object(p.jsxs)("h3",{children:["Weather for next week in ",this.state.city,":"]})}),this.state.weatherData&&!1===this.state.loading?Object(p.jsx)(x,{weatherData:this.state.weatherData.daily}):Object(p.jsx)("img",{src:"../spinner.gif",alt:"Getting data..."}),""!==this.state.noResults&&Object(p.jsx)("h3",{children:this.state.noResults})]})})}}]),a}(s.Component),y=a.p+"static/media/default-bg.d3570a08.jpg",w=function(e){var t=e.attData,a=[];!function(e){e.kinds.includes("interesting_places")&&a.push("Interesting Places"),e.kinds.includes("cultural")&&a.push("Cultural"),e.kinds.includes("historic")&&a.push("Historic"),e.kinds.includes("natural")&&a.push("Natural"),e.kinds.includes("architecture")&&a.push("Architecture"),e.kinds.includes("tourist_facilities")&&a.push("Facilities & Amenities"),e.kinds.includes("religion")&&a.push("Religion")}(t);var s=a.join(", ");return Object(p.jsx)("div",{className:"card App attraction",children:Object(p.jsxs)("div",{className:"card-body",style:{width:"12rem",height:"auto",backgroundColor:"seashell",color:"darkslategrey",padding:"10px",borderRadius:"5px",border:"1px solid #DDDDDD"},children:[Object(p.jsx)("h3",{className:"card-title",style:{fontSize:"1.5em"},children:t.name}),Object(p.jsxs)("p",{className:"card-text",style:{fontSize:"1.25em"},children:["Rating: ",t.rate,"/10"]}),Object(p.jsxs)("p",{className:"card-text",style:{fontSize:"1.25em"},children:["Tags: ",s]})]})})},k=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(c.a)(this,a);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={city:e.props.city,lat:"",lon:"",apiKey:"5ae2e3f221c38a28845f05b6c295fae5c08fb4da416353d38a0bff8a",attractionData:[],loading:!0,appear:!1},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(j.a)(m.a.mark((function e(){var t,a,s,n,i,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({appear:!0}),t=" https://api.opentripmap.com/0.1/en/places/geoname?name=".concat(this.state.city,"&apikey=").concat(this.state.apiKey),e.prev=2,e.next=5,fetch(t);case 5:if(!(a=e.sent).ok){e.next=26;break}return e.next=9,a.json();case 9:return s=e.sent,this.setState({lat:s.lat,lon:s.lon}),n="https://api.opentripmap.com/0.1/en/places/radius?radius=10000&lon=".concat(this.state.lon,"&lat=").concat(this.state.lat,"&src_geom=osm&format=json&limit=6&apikey=").concat(this.state.apiKey),e.prev=12,e.next=15,fetch(n);case 15:if(!(i=e.sent).ok){e.next=21;break}return e.next=19,i.json();case 19:r=e.sent,this.setState({attractionData:r,loading:!1});case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(12),console.log(e.t0);case 26:e.next=30;break;case 28:e.prev=28,e.t1=e.catch(2);case 30:case"end":return e.stop()}}),e,this,[[2,28],[12,23]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(p.jsx)(g.a,{in:this.state.appear,children:Object(p.jsxs)("div",{className:"container-flex jumbotron",style:{textAlign:"center",margin:"0",paddingTop:"0",backgroundColor:"#8bacb7"},children:[Object(p.jsxs)("h3",{style:{marginTop:"0",paddingTop:"10px"},children:["Top things to see in ",this.state.city,":"]}),!1===this.state.loading&&Object(p.jsx)("div",{className:"container-flex justify-content-center",id:"attractions-container",style:{textAlign:"center"},children:Object(p.jsx)("div",{className:"row",id:"attractions-display",style:{margin:"16px auto"},children:this.state.attractionData.map((function(e,t){return Object(p.jsx)("div",{className:"col-md-2",style:{margin:"16px 0"},children:Object(p.jsx)(w,{attData:e},t)})}))})})]})})}}]),a}(s.Component),v=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(c.a)(this,a);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={city:e.props.city,cx:"7524c3bb418745ff3",apiKey:"AIzaSyCYa-2ug1dTRJ-aO3tz61Qcqe_WHWVwSfo",imgUrl:""},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(j.a)(m.a.mark((function e(){var t,a,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://www.googleapis.com/customsearch/v1?q=".concat(this.state.city,"&num=1&searchType=image&key=").concat(this.state.apiKey,"&cx=").concat(this.state.cx),e.prev=1,e.next=4,fetch(t);case 4:if(!(a=e.sent).ok){e.next=13;break}return e.next=8,a.json();case 8:s=e.sent,console.log(s),this.setState({imgUrl:s.items[0].link}),this.props.imgPath(this.state.imgUrl),this.forceUpdate();case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),console.log(e.t0);case 18:case"end":return e.stop()}}),e,this,[[1,15]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(p.jsx)(n.a.Fragment,{})}}]),a}(s.Component),N=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(c.a)(this,a);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={city:"",searched:!1,lat:"",lon:"",imgPath:y,mainHeight:"620px"},e.city=function(t){e.state.city!==t&&e.forceUpdate(),e.setState({city:t,mainHeight:"400px"})},e.searched=function(t){e.setState({searched:t})},e.imgPath=function(t){e.state.imgPath!==t&&(e.setState({imgPath:t}),e.forceUpdate())},e}return Object(o.a)(a,[{key:"render",value:function(){return Object(p.jsxs)("div",{className:"App",children:[Object(p.jsxs)("div",{className:"jumbotron justify-content-center align-middle backgroundspread",style:{textAlign:"center",height:this.state.mainHeight,backgroundImage:"url(".concat(this.state.imgPath,")"),backgroundSize:"100%",backgroundPosition:"bottom",margin:"0",borderBottom:"5px solid darkslategrey"},children:[Object(p.jsxs)("div",{className:"container",id:"search-container",style:{width:"40%",backgroundColor:"#8bacb7",opacity:"0.75",padding:"0 50px 10px 40px",borderRadius:"20px"},children:[Object(p.jsx)("span",{style:{fontSize:"5.5em",fontWeight:"bold"},children:"Snapshot"}),Object(p.jsx)("h4",{style:{fontWeight:"bold"},children:"The world at a glance"})]}),Object(p.jsx)("br",{}),Object(p.jsx)(u,{city:this.city,searched:this.searched})]}),!0===this.state.searched&&Object(p.jsxs)("div",{children:[Object(p.jsx)(O,{city:this.state.city}),Object(p.jsx)(k,{city:this.state.city}),Object(p.jsx)(v,{city:this.state.city,imgPath:this.imgPath})]})]})}}]),a}(n.a.Component),S=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,40)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,i=t.getLCP,r=t.getTTFB;a(e),s(e),n(e),i(e),r(e)}))};r.a.render(Object(p.jsx)(n.a.StrictMode,{children:Object(p.jsx)(N,{})}),document.getElementById("root")),S()}},[[38,1,2]]]);
//# sourceMappingURL=main.a0ccccbc.chunk.js.map